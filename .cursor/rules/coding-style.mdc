---
description:
globs:
alwaysApply: false
---
# Coding Style Guidelines

The Everly backend follows the [Google Python Style Guide](https://google.github.io/styleguide/pyguide.html) with a few project-specific adaptations.

## Python Version
- Use Python 3.9+ features and syntax

## Imports
- Group imports in the following order, separated by a blank line:
  1. Standard library imports
  2. Related third-party imports
  3. Local application/library specific imports
- Within each group, imports should be in alphabetical order

```python
# Standard library
import asyncio
import os
from typing import List, Optional

# Third-party
import fastapi
from fastapi import Depends, HTTPException
from mongoengine import Document, StringField

# Local
from app.core import config
from app.db.models import User
```

## Naming Conventions
- `snake_case` for variables, functions, methods, and modules
- `PascalCase` for classes and exceptions
- `UPPER_CASE` for constants
- Prefix private attributes and methods with a single underscore

## Type Hints
- Use type hints for all function parameters and return values
- Use Optional[] for parameters that can be None

## Async/Await
- Prefer async functions for all I/O operations
- Use `asyncio.gather` for concurrent tasks
- Avoid mixing sync and async code

## Error Handling
- Use specific exception types
- Provide meaningful error messages
- Catch exceptions at the appropriate level

## Documentation
- Use docstrings for all public modules, functions, classes, and methods
- Follow Google-style docstrings format

```python
def function(param1: str, param2: Optional[int] = None) -> List[str]:
    """Short description of function.
    
    Longer description explaining the function's behavior.
    
    Args:
        param1: Description of param1
        param2: Description of param2, defaults to None
        
    Returns:
        Description of return value
        
    Raises:
        ValueError: If param1 is empty
    """
```

## Line Length
- Maximum line length of 88 characters (compatible with black formatter)
- Use parentheses for line continuations

## Comments
- Comments should be complete sentences
- Use inline comments sparingly
- Update comments when code changes
